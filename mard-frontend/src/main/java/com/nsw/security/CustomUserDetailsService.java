package com.nsw.security;

import com.google.gson.Gson;
import com.nsw.common.model.json.AspnetUserJson;
import com.nsw.user.model.User;
import com.nsw.util.LogUtil;
import org.apache.commons.lang3.StringUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.core.env.Environment;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpMethod;
import org.springframework.http.MediaType;
import org.springframework.http.converter.StringHttpMessageConverter;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.SimpleGrantedAuthority;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import org.springframework.web.client.RestTemplate;
import org.springframework.web.util.UriComponentsBuilder;

import java.nio.charset.StandardCharsets;
import java.util.ArrayList;
import java.util.List;

@Service("customUserDetailsService")
public class CustomUserDetailsService implements UserDetailsService {

    static final Logger logger = LoggerFactory.getLogger(CustomUserDetailsService.class);

    @Autowired
    private Environment environment;

    @Transactional(readOnly = true)
    public UserDetails loadUserByUsername(String ssoId)
            throws UsernameNotFoundException {
        //User user = userService.findBySSO(ssoId);
        User user = getUser(ssoId);
        logger.info("User : {}", user);
        if (user == null) {
            logger.info("User not found");
            throw new UsernameNotFoundException("Username not found");
        }
        return new UserCustom(user.getSsoId(), user.getPasswordAndSalt(),
                true, true, true, true, getGrantedAuthorities(user),
                user.getTabs(), user.getCompanyEmail(), user.getCompanyAddress(),
                user.getCompanyFax(), user.getCompanyPhoneNumber(), user.getCompanyName(),
                user.getRepresenterEmail(), user.getRepresenterName(), user.getRepresenterPhone(),
                user.getRepresenterMobile(), user.getCompanyType(), user.getRegistrationNo(), user.getDepartmentManage(),
                user.getEngName(), user.getShortName(), user.getConstitutionYear());
    }

    private List<GrantedAuthority> getGrantedAuthorities(User user) {
        List<GrantedAuthority> authorities = new ArrayList<GrantedAuthority>();
        authorities.add(new SimpleGrantedAuthority("ROLE_ADMIN"));
        authorities.add(new SimpleGrantedAuthority("ROLE_DBA"));
        authorities.add(new SimpleGrantedAuthority("ROLE_USER"));
        return authorities;
    }

    private User getUser(String ssoId) {
        User user = null;
        try {
            Gson gson = new Gson();
            String fakeData = "{ \"applicationId\": null, \"userId\": \"416dacd5-840b-416d-a375-198238ec6bb2\", \"userName\": \"0100100181\", \"loweredUserName\": null, \"mobileAlias\": null, \"isAnonymous\": null, \"lastActivityDate\": null, \"password\": \"m2yN9a6tG6DXbeCEc1tnbxSjx8k=\", \"passwordSalt\": \"yuwFaa8rwIu+Uxy8+SOfkQ==\", \"tabs\": [ { \"tabId\": 1, \"tabOrder\": 117, \"tabName\": \"Quản trị\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/Admin/tablist.aspx#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 4, \"tabOrder\": 16, \"tabName\": \"Quản lý trang\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"/Admin/tablist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 74, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"/Admin/documentlist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 247, \"tabOrder\": 17, \"tabName\": \"Quản lý log\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 248, \"tabOrder\": 15, \"tabName\": \"Log file xml\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ShowListFileXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 249, \"tabOrder\": 16, \"tabName\": \"Log kết quả gửi đi\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/EventLogs.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 250, \"tabOrder\": 17, \"tabName\": \"Log kết quả kết nối BGT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ErrorService.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 251, \"tabOrder\": 20, \"tabName\": \"Log kết quả bộ ngành\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/HisDocumentResult.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 292, \"tabOrder\": 22, \"tabName\": \"Quản lý log lỗi\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ShowErrorLogs.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 440, \"tabOrder\": 23, \"tabName\": \"Log xml BNN\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Mard/EventLog/MardEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 441, \"tabOrder\": 24, \"tabName\": \"Log xml BNN (5 nghiệp vụ sau)\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Mard/PQ/ManageMessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 442, \"tabOrder\": 25, \"tabName\": \"Log xml BTN\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/MONRAE/HCFC141B/HCFC141BErrorLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 454, \"tabOrder\": 3, \"tabName\": \"Log BCT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/ePermit/MOITEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 461, \"tabOrder\": 3, \"tabName\": \"Lịch sử xử lý hồ sơ\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/DocumentHistoryAdmin.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 483, \"tabOrder\": 26, \"tabName\": \"Log xml BYT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Moh/MOHEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 469, \"tabOrder\": 18, \"tabName\": \"MESSAGE GỬI ĐI(CĐK)\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"http://103.248.160.16:8080/VR/viewmessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 470, \"tabOrder\": 17, \"tabName\": \"MESSAGE NHẬN VỀ(CĐK)\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"http://103.248.160.16:8080/VR/resendmessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 4, \"tabOrder\": 16, \"tabName\": \"Quản lý trang\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"/Admin/tablist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 6, \"tabOrder\": 16, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Trang chủ<a class=\\\"tenbo_tienganh\\\">Homepage</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/profile/dashboard.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 7, \"tabOrder\": 17, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ công thương<a class=\\\"tenbo_tienganh\\\">Ministry of Industry and Trade</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/epermit/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 45, \"tabOrder\": 17, \"tabName\": \"Khai báo C/O\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/moit/coEcosys.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 44, \"tabOrder\": 16, \"tabName\": \"Danh sách C/O\", \"isVisible\": 1, \"parentId\": 45, \"level\": 3, \"tabPath\": \"/epermit/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 64, \"tabOrder\": 21, \"tabName\": \"Nhập khẩu HCFC\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/epermit/hcfcimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 65, \"tabOrder\": 22, \"tabName\": \"Nhập khẩu Motor\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/epermit/moto.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 95, \"tabOrder\": 17, \"tabName\": \"CẤP PHÉP XUẤT/NHẬP KHẨU KIM CƯƠNG THÔ THEO KP\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/KimberleyManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 495, \"tabOrder\": 21, \"tabName\": \"HỒ SƠ XUẤT KHẨU KIM CƯƠNG THÔ\", \"isVisible\": 1, \"parentId\": 95, \"level\": 3, \"tabPath\": \"/MOIT/kimberley/KimberleyManagerExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 496, \"tabOrder\": 22, \"tabName\": \"HỒ SƠ NHẬP KHẨU KIM CƯƠNG THÔ\", \"isVisible\": 1, \"parentId\": 95, \"level\": 3, \"tabPath\": \"/MOIT/kimberley/KimberleyManagerImport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 98, \"tabOrder\": 17, \"tabName\": \"Quản lý giấy phép KP\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/CertificateKPSearch.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 112, \"tabOrder\": 27, \"tabName\": \"Xuất/nhập khẩu Vật liệu nổ CN\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/epermit/explosive.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 450, \"tabOrder\": 28, \"tabName\": \"Hồ sơ CO\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/moit/co/COFormDList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 471, \"tabOrder\": 29, \"tabName\": \"Khai báo hóa chất\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/MOIT/HC/HosoHCList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 477, \"tabOrder\": 30, \"tabName\": \"Xem log XML HC\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/MOIT/HC/HosoHCLogXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 8, \"tabOrder\": 20, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ giao thông<a class=\\\"tenbo_tienganh\\\">Ministry of Transport</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/profile/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 245, \"tabOrder\": 15, \"tabName\": \"Cục hàng hải\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 10, \"tabOrder\": 17, \"tabName\": \"Quản lý thông tin tàu\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/ship/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 11, \"tabOrder\": 20, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 12, \"tabOrder\": 21, \"tabName\": \"Xem & in hồ sơ\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 54, \"tabOrder\": 16, \"tabName\": \"Quản lý đại lý, chủ tàu\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/agency/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 402, \"tabOrder\": 109, \"tabName\": \"Thông báo bổ sung FW\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/notice/listchanges.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 420, \"tabOrder\": 17, \"tabName\": \"Xem thông tin sửa đổi vận đơn\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/record/requestlist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 246, \"tabOrder\": 16, \"tabName\": \"Cục đăng kiểm\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 121, \"tabOrder\": 15, \"tabName\": \"Quản lý hồ sơ\", \"isVisible\": 1, \"parentId\": 246, \"level\": 3, \"tabPath\": \"/VR/VRManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 318, \"tabOrder\": 17, \"tabName\": \"Cục đường thủy nội địa\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 319, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 320, \"tabOrder\": 16, \"tabName\": \"Xem và In hồ sơ\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 321, \"tabOrder\": 17, \"tabName\": \"Thông báo bổ sung FW\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/notice/listchanges.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 329, \"tabOrder\": 15, \"tabName\": \"Quản lý thông tin đại lý, chủ tàu\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/agency/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 330, \"tabOrder\": 16, \"tabName\": \"Quản lý thông tin tàu\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/ship/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 380, \"tabOrder\": 26, \"tabName\": \"Tàu vào rời cảng Việt nam\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 381, \"tabOrder\": 3, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 380, \"level\": 3, \"tabPath\": \"/marine/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 398, \"tabOrder\": 5, \"tabName\": \"Xem và in hồ sơ\", \"isVisible\": 1, \"parentId\": 380, \"level\": 3, \"tabPath\": \"/marine/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] } ] }, { \"tabId\": 9, \"tabOrder\": 36, \"tabName\": \"Tiện ích\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/category/viewscuakhau.aspx#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 42, \"tabOrder\": 16, \"tabName\": \"Đổi mật khẩu\", \"isVisible\": 1, \"parentId\": 9, \"level\": 2, \"tabPath\": \"/register/changepassword.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 400, \"tabOrder\": 5, \"tabName\": \"Thông tin tài liệu\", \"isVisible\": 1, \"parentId\": 9, \"level\": 2, \"tabPath\": \"/profile/record/listfile.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 498, \"tabOrder\": 17, \"tabName\": \"Tra cứu danh mục\", \"isVisible\": 1, \"parentId\": 9, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 499, \"tabOrder\": 1, \"tabName\": \"Danh mục đơn vị tính\", \"isVisible\": 1, \"parentId\": 498, \"level\": 3, \"tabPath\": \"/Profile/Catalogue/Unit.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 500, \"tabOrder\": 2, \"tabName\": \"Danh mục các chất HCFC\", \"isVisible\": 1, \"parentId\": 498, \"level\": 3, \"tabPath\": \"/Profile/Catalogue/HCFCSubstance.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] } ] }, { \"tabId\": 10, \"tabOrder\": 17, \"tabName\": \"Quản lý thông tin tàu\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/ship/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 11, \"tabOrder\": 20, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 12, \"tabOrder\": 21, \"tabName\": \"Xem & in hồ sơ\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 42, \"tabOrder\": 16, \"tabName\": \"Đổi mật khẩu\", \"isVisible\": 1, \"parentId\": 9, \"level\": 2, \"tabPath\": \"/register/changepassword.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 44, \"tabOrder\": 16, \"tabName\": \"Danh sách C/O\", \"isVisible\": 1, \"parentId\": 45, \"level\": 3, \"tabPath\": \"/epermit/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 45, \"tabOrder\": 17, \"tabName\": \"Khai báo C/O\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/moit/coEcosys.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 44, \"tabOrder\": 16, \"tabName\": \"Danh sách C/O\", \"isVisible\": 1, \"parentId\": 45, \"level\": 3, \"tabPath\": \"/epermit/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 50, \"tabOrder\": 21, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ y tế....<a class=\\\"tenbo_tienganh\\\">Ministry of Health</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/BYT/KhaiBaoLoSP.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 79, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ XN DYCNK\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/ePermit/Moh/Import/ImportList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 86, \"tabOrder\": 17, \"tabName\": \"Quản lý hồ sơ xét nghiệm nhanh\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/Moh/RapidTestList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 102, \"tabOrder\": 20, \"tabName\": \"Cấp GPNK Trang thiết bị y tế\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/Moh/HealthEquipmentList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 115, \"tabOrder\": 21, \"tabName\": \"Quản lý giấy phép nhập khẩu trang thiết bị y tế\", \"isVisible\": 1, \"parentId\": 102, \"level\": 3, \"tabPath\": \"/Moh/HealthEquipmentLisenceList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 108, \"tabOrder\": 25, \"tabName\": \"Nhập khẩu thuốc thành phẩm\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/moh/registermedicine.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 346, \"tabOrder\": 26, \"tabName\": \"Công bố Mỹ Phẩm\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/ePermit/Moh/Cos/CosmeticManagers.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 370, \"tabOrder\": 27, \"tabName\": \"Nhập khẩu thuốc\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/BYT/RegisterPhysics/PhysicsList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 54, \"tabOrder\": 16, \"tabName\": \"Quản lý đại lý, chủ tàu\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/agency/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 64, \"tabOrder\": 21, \"tabName\": \"Nhập khẩu HCFC\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/epermit/hcfcimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 65, \"tabOrder\": 22, \"tabName\": \"Nhập khẩu Motor\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/epermit/moto.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 74, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"/Admin/documentlist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 79, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ XN DYCNK\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/ePermit/Moh/Import/ImportList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 86, \"tabOrder\": 17, \"tabName\": \"Quản lý hồ sơ xét nghiệm nhanh\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/Moh/RapidTestList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 95, \"tabOrder\": 17, \"tabName\": \"CẤP PHÉP XUẤT/NHẬP KHẨU KIM CƯƠNG THÔ THEO KP\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/KimberleyManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 495, \"tabOrder\": 21, \"tabName\": \"HỒ SƠ XUẤT KHẨU KIM CƯƠNG THÔ\", \"isVisible\": 1, \"parentId\": 95, \"level\": 3, \"tabPath\": \"/MOIT/kimberley/KimberleyManagerExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 496, \"tabOrder\": 22, \"tabName\": \"HỒ SƠ NHẬP KHẨU KIM CƯƠNG THÔ\", \"isVisible\": 1, \"parentId\": 95, \"level\": 3, \"tabPath\": \"/MOIT/kimberley/KimberleyManagerImport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 98, \"tabOrder\": 17, \"tabName\": \"Quản lý giấy phép KP\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/CertificateKPSearch.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 102, \"tabOrder\": 20, \"tabName\": \"Cấp GPNK Trang thiết bị y tế\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/Moh/HealthEquipmentList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 115, \"tabOrder\": 21, \"tabName\": \"Quản lý giấy phép nhập khẩu trang thiết bị y tế\", \"isVisible\": 1, \"parentId\": 102, \"level\": 3, \"tabPath\": \"/Moh/HealthEquipmentLisenceList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 108, \"tabOrder\": 25, \"tabName\": \"Nhập khẩu thuốc thành phẩm\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/moh/registermedicine.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 112, \"tabOrder\": 27, \"tabName\": \"Xuất/nhập khẩu Vật liệu nổ CN\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/epermit/explosive.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 115, \"tabOrder\": 21, \"tabName\": \"Quản lý giấy phép nhập khẩu trang thiết bị y tế\", \"isVisible\": 1, \"parentId\": 102, \"level\": 3, \"tabPath\": \"/Moh/HealthEquipmentLisenceList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 121, \"tabOrder\": 15, \"tabName\": \"Quản lý hồ sơ\", \"isVisible\": 1, \"parentId\": 246, \"level\": 3, \"tabPath\": \"/VR/VRManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 161, \"tabOrder\": 24, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ Tài nguyên & Môi trường<a class=\\\"tenbo_tienganh\\\">Ministry of Natural Resources and Environment</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/MONRAE/HCFC/hcfcimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 177, \"tabOrder\": 21, \"tabName\": \"Đăng ký nhập khẩu các chất HCFC\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/HCFC/hcfcimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 336, \"tabOrder\": 22, \"tabName\": \"Đăng ký nhập khẩu Polyol HCFC 141b\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/HCFC141B/hcfc141bimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 362, \"tabOrder\": 23, \"tabName\": \"Xuất khẩu HCFC\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/HCFCEXPORT/HCFCExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 421, \"tabOrder\": 17, \"tabName\": \"Đăng ký xuất khẩu chất thải nguy hại\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/WASTEEXPORT/WasteExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 162, \"tabOrder\": 33, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ Nông nghiệp<a class=\\\"tenbo_tienganh\\\">Ministry of Agriculture and Rural Development</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/Mard/AquaFeedManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 168, \"tabOrder\": 15, \"tabName\": \"Xác nhận chất lượng thức ăn thủy sản nhập khẩu\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/AquaFeedManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 207, \"tabOrder\": 22, \"tabName\": \"Xem log service\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Admin/ErrorService.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 209, \"tabOrder\": 24, \"tabName\": \"Hủy hồ sơ\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Mard/CancelRequest.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 504, \"tabOrder\": 25, \"tabName\": \"Thông báo yêu cầu ngày kiểm tra, lấy mẫu\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Mard/AquaFeedFeeNotify.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 193, \"tabOrder\": 16, \"tabName\": \"xác nhận chất lượng thức ăn chăn nuôi nhập khẩu\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/AniFeedManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 225, \"tabOrder\": 17, \"tabName\": \"Kiểm dịch thực vật\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/PQ/PQList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 275, \"tabOrder\": 20, \"tabName\": \"CITES\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/CITES/CitesList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 283, \"tabOrder\": 21, \"tabName\": \"CHỨNG NHẬN CLAT SẢN PHẨM THỦY SẢN XK ƯU TIÊN\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/SeaFood/SeafoodPriorityList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 284, \"tabOrder\": 22, \"tabName\": \"CHỨNG NHẬN CLAT SẢN PHẨM THỦY SẢN XK KHÔNG ƯU TIÊN\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/SeaFood/SeafoodNoPriorityList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 293, \"tabOrder\": 23, \"tabName\": \"NHẬP KHẨU GIỐNG CÂY TRỒNG\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/VARIETY/VarietyList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 310, \"tabOrder\": 24, \"tabName\": \"PHÂN BÓN\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/Fertilizer/FertilizerList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 384, \"tabOrder\": 20, \"tabName\": \"Động vật thú y\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/PAnimal/ProductsOfAnimalList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 487, \"tabOrder\": 1, \"tabName\": \"Nhập khẩu động vật, sản phẩm động vật trên cạn\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/AnimalQuarantine/QRList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 168, \"tabOrder\": 15, \"tabName\": \"Xác nhận chất lượng thức ăn thủy sản nhập khẩu\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/AquaFeedManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 207, \"tabOrder\": 22, \"tabName\": \"Xem log service\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Admin/ErrorService.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 209, \"tabOrder\": 24, \"tabName\": \"Hủy hồ sơ\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Mard/CancelRequest.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 504, \"tabOrder\": 25, \"tabName\": \"Thông báo yêu cầu ngày kiểm tra, lấy mẫu\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Mard/AquaFeedFeeNotify.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 177, \"tabOrder\": 21, \"tabName\": \"Đăng ký nhập khẩu các chất HCFC\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/HCFC/hcfcimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 193, \"tabOrder\": 16, \"tabName\": \"xác nhận chất lượng thức ăn chăn nuôi nhập khẩu\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/AniFeedManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 207, \"tabOrder\": 22, \"tabName\": \"Xem log service\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Admin/ErrorService.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 209, \"tabOrder\": 24, \"tabName\": \"Hủy hồ sơ\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Mard/CancelRequest.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 211, \"tabOrder\": 34, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ khoa học và công nghệ<a class=\\\"tenbo_tienganh\\\">Ministry of Science and Technology</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/MOST/QIG/QIGList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 212, \"tabOrder\": 15, \"tabName\": \"Kiểm tra chất lượng hàng hóa nhập khẩu\", \"isVisible\": 1, \"parentId\": 211, \"level\": 2, \"tabPath\": \"/MOST/QIG/QIGList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 212, \"tabOrder\": 15, \"tabName\": \"Kiểm tra chất lượng hàng hóa nhập khẩu\", \"isVisible\": 1, \"parentId\": 211, \"level\": 2, \"tabPath\": \"/MOST/QIG/QIGList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 225, \"tabOrder\": 17, \"tabName\": \"Kiểm dịch thực vật\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/PQ/PQList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 241, \"tabOrder\": 32, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ TT&TT<a class=\\\"tenbo_tienganh\\\">Bộ TT&TT</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/MIC/RT/TransceiverManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 242, \"tabOrder\": 15, \"tabName\": \"Cấp phép NK thiết bị phát, thu-phát sóng VTĐ\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/RT/TransceiverManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 282, \"tabOrder\": 16, \"tabName\": \"Tra cứu giấy phép NK TB phát, thu-phát sóng VTĐ\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/RT/LicenseManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 455, \"tabOrder\": 7, \"tabName\": \"Cấp giấy xác nhận DM Xuất bản phẩm nhập khẩu\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/XBP/HosoXBPList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 462, \"tabOrder\": 9, \"tabName\": \"Xem log gửi nhận Message\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/XBP/HosoXBPLogXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 501, \"tabOrder\": 17, \"tabName\": \"Xem Log May phát sóng vô tuyến điện\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/MICEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 242, \"tabOrder\": 15, \"tabName\": \"Cấp phép NK thiết bị phát, thu-phát sóng VTĐ\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/RT/TransceiverManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 245, \"tabOrder\": 15, \"tabName\": \"Cục hàng hải\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 10, \"tabOrder\": 17, \"tabName\": \"Quản lý thông tin tàu\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/ship/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 11, \"tabOrder\": 20, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 12, \"tabOrder\": 21, \"tabName\": \"Xem & in hồ sơ\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 54, \"tabOrder\": 16, \"tabName\": \"Quản lý đại lý, chủ tàu\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/agency/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 402, \"tabOrder\": 109, \"tabName\": \"Thông báo bổ sung FW\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/notice/listchanges.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 420, \"tabOrder\": 17, \"tabName\": \"Xem thông tin sửa đổi vận đơn\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/record/requestlist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 246, \"tabOrder\": 16, \"tabName\": \"Cục đăng kiểm\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 121, \"tabOrder\": 15, \"tabName\": \"Quản lý hồ sơ\", \"isVisible\": 1, \"parentId\": 246, \"level\": 3, \"tabPath\": \"/VR/VRManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 247, \"tabOrder\": 17, \"tabName\": \"Quản lý log\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 248, \"tabOrder\": 15, \"tabName\": \"Log file xml\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ShowListFileXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 249, \"tabOrder\": 16, \"tabName\": \"Log kết quả gửi đi\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/EventLogs.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 250, \"tabOrder\": 17, \"tabName\": \"Log kết quả kết nối BGT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ErrorService.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 251, \"tabOrder\": 20, \"tabName\": \"Log kết quả bộ ngành\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/HisDocumentResult.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 292, \"tabOrder\": 22, \"tabName\": \"Quản lý log lỗi\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ShowErrorLogs.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 440, \"tabOrder\": 23, \"tabName\": \"Log xml BNN\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Mard/EventLog/MardEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 441, \"tabOrder\": 24, \"tabName\": \"Log xml BNN (5 nghiệp vụ sau)\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Mard/PQ/ManageMessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 442, \"tabOrder\": 25, \"tabName\": \"Log xml BTN\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/MONRAE/HCFC141B/HCFC141BErrorLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 454, \"tabOrder\": 3, \"tabName\": \"Log BCT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/ePermit/MOITEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 461, \"tabOrder\": 3, \"tabName\": \"Lịch sử xử lý hồ sơ\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/DocumentHistoryAdmin.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 483, \"tabOrder\": 26, \"tabName\": \"Log xml BYT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Moh/MOHEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 248, \"tabOrder\": 15, \"tabName\": \"Log file xml\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ShowListFileXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 249, \"tabOrder\": 16, \"tabName\": \"Log kết quả gửi đi\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/EventLogs.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 250, \"tabOrder\": 17, \"tabName\": \"Log kết quả kết nối BGT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ErrorService.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 251, \"tabOrder\": 20, \"tabName\": \"Log kết quả bộ ngành\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/HisDocumentResult.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 261, \"tabOrder\": 27, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Bộ văn hóa, thể thao và du lịch<a class=\\\"tenbo_tienganh\\\">Ministry of Information and Communications</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/MCST/ToyList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 262, \"tabOrder\": 47, \"tabName\": \"Thủ tục nhập khẩu đồ chơi trẻ em\", \"isVisible\": 1, \"parentId\": 261, \"level\": 2, \"tabPath\": \"/MCST/ToyList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 262, \"tabOrder\": 47, \"tabName\": \"Thủ tục nhập khẩu đồ chơi trẻ em\", \"isVisible\": 1, \"parentId\": 261, \"level\": 2, \"tabPath\": \"/MCST/ToyList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 275, \"tabOrder\": 20, \"tabName\": \"CITES\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/CITES/CitesList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 282, \"tabOrder\": 16, \"tabName\": \"Tra cứu giấy phép NK TB phát, thu-phát sóng VTĐ\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/RT/LicenseManager.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 283, \"tabOrder\": 21, \"tabName\": \"CHỨNG NHẬN CLAT SẢN PHẨM THỦY SẢN XK ƯU TIÊN\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/SeaFood/SeafoodPriorityList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 284, \"tabOrder\": 22, \"tabName\": \"CHỨNG NHẬN CLAT SẢN PHẨM THỦY SẢN XK KHÔNG ƯU TIÊN\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/SeaFood/SeafoodNoPriorityList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 292, \"tabOrder\": 22, \"tabName\": \"Quản lý log lỗi\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/ShowErrorLogs.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 293, \"tabOrder\": 23, \"tabName\": \"NHẬP KHẨU GIỐNG CÂY TRỒNG\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/VARIETY/VarietyList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 310, \"tabOrder\": 24, \"tabName\": \"PHÂN BÓN\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/Fertilizer/FertilizerList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 318, \"tabOrder\": 17, \"tabName\": \"Cục đường thủy nội địa\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 319, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 320, \"tabOrder\": 16, \"tabName\": \"Xem và In hồ sơ\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 321, \"tabOrder\": 17, \"tabName\": \"Thông báo bổ sung FW\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/notice/listchanges.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 329, \"tabOrder\": 15, \"tabName\": \"Quản lý thông tin đại lý, chủ tàu\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/agency/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 330, \"tabOrder\": 16, \"tabName\": \"Quản lý thông tin tàu\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/ship/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 319, \"tabOrder\": 16, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 320, \"tabOrder\": 16, \"tabName\": \"Xem và In hồ sơ\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 321, \"tabOrder\": 17, \"tabName\": \"Thông báo bổ sung FW\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/notice/listchanges.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 329, \"tabOrder\": 15, \"tabName\": \"Quản lý thông tin đại lý, chủ tàu\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/agency/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 330, \"tabOrder\": 16, \"tabName\": \"Quản lý thông tin tàu\", \"isVisible\": 1, \"parentId\": 318, \"level\": 3, \"tabPath\": \"/viwa/ship/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 336, \"tabOrder\": 22, \"tabName\": \"Đăng ký nhập khẩu Polyol HCFC 141b\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/HCFC141B/hcfc141bimport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 346, \"tabOrder\": 26, \"tabName\": \"Công bố Mỹ Phẩm\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/ePermit/Moh/Cos/CosmeticManagers.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 362, \"tabOrder\": 23, \"tabName\": \"Xuất khẩu HCFC\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/HCFCEXPORT/HCFCExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 370, \"tabOrder\": 27, \"tabName\": \"Nhập khẩu thuốc\", \"isVisible\": 1, \"parentId\": 50, \"level\": 2, \"tabPath\": \"/BYT/RegisterPhysics/PhysicsList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 379, \"tabOrder\": 15, \"tabName\": \"Log VN - CPC\", \"isVisible\": 1, \"parentId\": 353, \"level\": 3, \"tabPath\": \"/MT/VIWA/ViwaErrorLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 380, \"tabOrder\": 26, \"tabName\": \"Tàu vào rời cảng Việt nam\", \"isVisible\": 1, \"parentId\": 8, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 381, \"tabOrder\": 3, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 380, \"level\": 3, \"tabPath\": \"/marine/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 398, \"tabOrder\": 5, \"tabName\": \"Xem và in hồ sơ\", \"isVisible\": 1, \"parentId\": 380, \"level\": 3, \"tabPath\": \"/marine/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 381, \"tabOrder\": 3, \"tabName\": \"Quản lý hồ sơ cấp phép\", \"isVisible\": 1, \"parentId\": 380, \"level\": 3, \"tabPath\": \"/marine/record/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 384, \"tabOrder\": 20, \"tabName\": \"Động vật thú y\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/PAnimal/ProductsOfAnimalList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 398, \"tabOrder\": 5, \"tabName\": \"Xem và in hồ sơ\", \"isVisible\": 1, \"parentId\": 380, \"level\": 3, \"tabPath\": \"/marine/report/list.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 400, \"tabOrder\": 5, \"tabName\": \"Thông tin tài liệu\", \"isVisible\": 1, \"parentId\": 9, \"level\": 2, \"tabPath\": \"/profile/record/listfile.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 402, \"tabOrder\": 109, \"tabName\": \"Thông báo bổ sung FW\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/notice/listchanges.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 420, \"tabOrder\": 17, \"tabName\": \"Xem thông tin sửa đổi vận đơn\", \"isVisible\": 1, \"parentId\": 245, \"level\": 3, \"tabPath\": \"/profile/record/requestlist.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 421, \"tabOrder\": 17, \"tabName\": \"Đăng ký xuất khẩu chất thải nguy hại\", \"isVisible\": 1, \"parentId\": 161, \"level\": 2, \"tabPath\": \"/MONRAE/WASTEEXPORT/WasteExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 440, \"tabOrder\": 23, \"tabName\": \"Log xml BNN\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Mard/EventLog/MardEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 441, \"tabOrder\": 24, \"tabName\": \"Log xml BNN (5 nghiệp vụ sau)\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Mard/PQ/ManageMessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 442, \"tabOrder\": 25, \"tabName\": \"Log xml BTN\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/MONRAE/HCFC141B/HCFC141BErrorLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 444, \"tabOrder\": 3, \"tabName\": \"Danh sách câu hỏi\", \"isVisible\": 1, \"parentId\": 443, \"level\": 2, \"tabPath\": \"/profile/FAQ.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 445, \"tabOrder\": 5, \"tabName\": \"Danh sách tin bài\", \"isVisible\": 1, \"parentId\": 443, \"level\": 2, \"tabPath\": \"/profile/ListPost.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 447, \"tabOrder\": 119, \"tabName\": \"API hàng không\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/API/ListFlight.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 449, \"tabOrder\": 120, \"tabName\": \"Quản lý thanh toán\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/Profile/EPayment.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 450, \"tabOrder\": 28, \"tabName\": \"Hồ sơ CO\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/ePermit/moit/co/COFormDList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 454, \"tabOrder\": 3, \"tabName\": \"Log BCT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/ePermit/MOITEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 455, \"tabOrder\": 7, \"tabName\": \"Cấp giấy xác nhận DM Xuất bản phẩm nhập khẩu\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/XBP/HosoXBPList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 461, \"tabOrder\": 3, \"tabName\": \"Lịch sử xử lý hồ sơ\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Admin/DocumentHistoryAdmin.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 462, \"tabOrder\": 9, \"tabName\": \"Xem log gửi nhận Message\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/XBP/HosoXBPLogXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 469, \"tabOrder\": 18, \"tabName\": \"MESSAGE GỬI ĐI(CĐK)\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"http://103.248.160.16:8080/VR/viewmessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 470, \"tabOrder\": 17, \"tabName\": \"MESSAGE NHẬN VỀ(CĐK)\", \"isVisible\": 1, \"parentId\": 1, \"level\": 2, \"tabPath\": \"http://103.248.160.16:8080/VR/resendmessage.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 471, \"tabOrder\": 29, \"tabName\": \"Khai báo hóa chất\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/MOIT/HC/HosoHCList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 477, \"tabOrder\": 30, \"tabName\": \"Xem log XML HC\", \"isVisible\": 1, \"parentId\": 7, \"level\": 2, \"tabPath\": \"/MOIT/HC/HosoHCLogXML.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 478, \"tabOrder\": 121, \"tabName\": \"<img class=\\\"logobnn\\\" src=\\\"https://vnsw.gov.vn/homepage1/layout/emanifest/images/bocongthuong.png\\\">Phòng Thương mại và Công nghiệp Việt Nam<a class=\\\"tenbo_tienganh\\\">Vietnam Chamber of Commerce and Industry</a>\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"/MOST/QIG/QIGList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 479, \"tabOrder\": 3, \"tabName\": \"Cấp chứng nhận xuất xứ không ưu đãi C/O mẫu B\", \"isVisible\": 1, \"parentId\": 478, \"level\": 2, \"tabPath\": \"/ePermit/VCCI/COFormB/COFormBList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 479, \"tabOrder\": 3, \"tabName\": \"Cấp chứng nhận xuất xứ không ưu đãi C/O mẫu B\", \"isVisible\": 1, \"parentId\": 478, \"level\": 2, \"tabPath\": \"/ePermit/VCCI/COFormB/COFormBList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 483, \"tabOrder\": 26, \"tabName\": \"Log xml BYT\", \"isVisible\": 1, \"parentId\": 247, \"level\": 3, \"tabPath\": \"/Moh/MOHEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 487, \"tabOrder\": 1, \"tabName\": \"Nhập khẩu động vật, sản phẩm động vật trên cạn\", \"isVisible\": 1, \"parentId\": 162, \"level\": 2, \"tabPath\": \"/Mard/AnimalQuarantine/QRList.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 495, \"tabOrder\": 21, \"tabName\": \"HỒ SƠ XUẤT KHẨU KIM CƯƠNG THÔ\", \"isVisible\": 1, \"parentId\": 95, \"level\": 3, \"tabPath\": \"/MOIT/kimberley/KimberleyManagerExport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 496, \"tabOrder\": 22, \"tabName\": \"HỒ SƠ NHẬP KHẨU KIM CƯƠNG THÔ\", \"isVisible\": 1, \"parentId\": 95, \"level\": 3, \"tabPath\": \"/MOIT/kimberley/KimberleyManagerImport.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 498, \"tabOrder\": 17, \"tabName\": \"Tra cứu danh mục\", \"isVisible\": 1, \"parentId\": 9, \"level\": 2, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 499, \"tabOrder\": 1, \"tabName\": \"Danh mục đơn vị tính\", \"isVisible\": 1, \"parentId\": 498, \"level\": 3, \"tabPath\": \"/Profile/Catalogue/Unit.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 500, \"tabOrder\": 2, \"tabName\": \"Danh mục các chất HCFC\", \"isVisible\": 1, \"parentId\": 498, \"level\": 3, \"tabPath\": \"/Profile/Catalogue/HCFCSubstance.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 499, \"tabOrder\": 1, \"tabName\": \"Danh mục đơn vị tính\", \"isVisible\": 1, \"parentId\": 498, \"level\": 3, \"tabPath\": \"/Profile/Catalogue/Unit.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 500, \"tabOrder\": 2, \"tabName\": \"Danh mục các chất HCFC\", \"isVisible\": 1, \"parentId\": 498, \"level\": 3, \"tabPath\": \"/Profile/Catalogue/HCFCSubstance.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 501, \"tabOrder\": 17, \"tabName\": \"Xem Log May phát sóng vô tuyến điện\", \"isVisible\": 1, \"parentId\": 241, \"level\": 2, \"tabPath\": \"/MIC/MICEventLog.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 504, \"tabOrder\": 25, \"tabName\": \"Thông báo yêu cầu ngày kiểm tra, lấy mẫu\", \"isVisible\": 1, \"parentId\": 168, \"level\": 3, \"tabPath\": \"/Mard/AquaFeedFeeNotify.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 507, \"tabOrder\": 1, \"tabName\": \"Quản lý tin bài\", \"isVisible\": 1, \"parentId\": null, \"level\": 1, \"tabPath\": \"#\", \"isDeleted\": 0, \"menuType\": 0, \"children\": [ { \"tabId\": 508, \"tabOrder\": 2, \"tabName\": \"Bài viết\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/NewsManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 509, \"tabOrder\": 3, \"tabName\": \"Câu hỏi thường gặp\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/QAManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 510, \"tabOrder\": 4, \"tabName\": \"Danh sách Bộ\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/MinistriesManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 511, \"tabOrder\": 5, \"tabName\": \"Danh sách thủ tục hành chính\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/ProceduresManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 512, \"tabOrder\": 6, \"tabName\": \"Danh sách menu\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/MenuManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 513, \"tabOrder\": 7, \"tabName\": \"Quản lý chuyên mục tin bài\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/NewsCategory.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 514, \"tabOrder\": 8, \"tabName\": \"Văn bản\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/DocManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 515, \"tabOrder\": 10, \"tabName\": \"Menu trang chủ\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/MenuManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 516, \"tabOrder\": 11, \"tabName\": \"Cấu hình hệ thống\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/HomeSetting.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ] }, { \"tabId\": 508, \"tabOrder\": 2, \"tabName\": \"Bài viết\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/NewsManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 509, \"tabOrder\": 3, \"tabName\": \"Câu hỏi thường gặp\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/QAManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 510, \"tabOrder\": 4, \"tabName\": \"Danh sách Bộ\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/MinistriesManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 511, \"tabOrder\": 5, \"tabName\": \"Danh sách thủ tục hành chính\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/ProceduresManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 512, \"tabOrder\": 6, \"tabName\": \"Danh sách menu\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/MenuManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 513, \"tabOrder\": 7, \"tabName\": \"Quản lý chuyên mục tin bài\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/NewsCategory.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 514, \"tabOrder\": 8, \"tabName\": \"Văn bản\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/DocManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 515, \"tabOrder\": 10, \"tabName\": \"Menu trang chủ\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/MenuManagement.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null }, { \"tabId\": 516, \"tabOrder\": 11, \"tabName\": \"Cấu hình hệ thống\", \"isVisible\": 1, \"parentId\": 507, \"level\": 2, \"tabPath\": \"/profile/HomeSetting.aspx\", \"isDeleted\": 0, \"menuType\": 0, \"children\": null } ], \"companyName\": \"Công ty TNHH Ánh Sao\", \"companyAddress\": \"142, Hoàn Cầu, Hà Nội\", \"companyEmail\": \"hoangnl@viettel.com.vn\", \"companyFax\": \"66211111\", \"companyPhoneNumber\": \"66225741\", \"representerName\": \"Trần Quốc Thái\", \"representerPhone\": \"0462880168\", \"representerMobile\": \"0978187577\", \"representerEmail\": \"thuy31.hust@gmail.com\" }";

//            String fakeData = requestUserInfo(ssoId);
            AspnetUserJson userNew = null;
            if (!StringUtils.isEmpty(fakeData)) userNew = gson.fromJson(fakeData, AspnetUserJson.class);

            if (userNew != null) {
                user = new User();
                user.setSsoId(ssoId);
                user.setPassword(userNew.getPassword());
                user.setPasswordAndSalt(userNew.getPassword());
                user.setTabs(userNew.getTabs());
                user.setCompanyEmail(userNew.getCompanyEmail());
                user.setCompanyName(userNew.getCompanyName());
                user.setCompanyAddress(userNew.getCompanyAddress());
                user.setCompanyFax(userNew.getCompanyFax());
                user.setCompanyPhoneNumber(userNew.getCompanyPhoneNumber());

                user.setRepresenterEmail(userNew.getRepresenterEmail());
                user.setRepresenterMobile(userNew.getRepresenterMobile());
                user.setRepresenterName(userNew.getRepresenterName());
                user.setRepresenterPhone(userNew.getRepresenterPhone());

                user.setCompanyType(userNew.getCompanyType());
                user.setRegistrationNo(userNew.getRegistrationNo());
                user.setDepartmentManage(userNew.getDepartmentManage());
                user.setEngName(userNew.getEngName());
                user.setShortName(userNew.getShortName());
                user.setConstitutionYear(userNew.getConstitutionYear());
            }
        } catch (Exception ex) {
            LogUtil.addLog(ex);
        }

        return user;
    }

    private static final String ACCOUNTSERVER = "http://118.70.125.195:8105/users";

    private String requestUserInfo(String ssoId) {
        RestTemplate restTemplate = new RestTemplate();
        restTemplate.getMessageConverters()
                .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));

        HttpHeaders headers = new HttpHeaders();
        headers.set("Accept", MediaType.APPLICATION_JSON_VALUE);
        headers.add("Content-Type", "text/html; charset=utf-8");

        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(ACCOUNTSERVER)
                .queryParam("username", ssoId);
        return restTemplate.getForObject(builder.toUriString(), String.class);
    }

}